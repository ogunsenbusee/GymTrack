@{
    ViewData["Title"] = "Yapay Zeka Koçu";
}

<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8">

            <div class="text-center mb-4">
                <h1 class="fw-bold text-primary"><i class="bi bi-robot"></i> Yapay Zeka Antrenörün</h1>
                <p class="text-muted">Bilgilerini gir, saniyeler içinde sana özel programı al.</p>
            </div>

            <div class="card shadow border-0" style="border-radius: 15px;">
                <div class="card-body p-5">

                    <form asp-action="GeneratePlan" method="post" enctype="multipart/form-data">
                        <div class="row g-3">

                            <div class="col-md-6">
                                <label class="form-label fw-bold">Cinsiyet</label>
                                <select name="gender" class="form-select">
                                    <option value="Erkek">Erkek</option>
                                    <option value="Kadın">Kadın</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Yaş</label>
                                <input type="number" name="age" class="form-control" placeholder="23" required />
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold">Boy (cm)</label>
                                <input type="number" name="height" class="form-control" placeholder="180" required />
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Kilo (kg)</label>
                                <input type="number" name="weight" class="form-control" placeholder="75" required />
                            </div>

                            <div class="col-12">
                                <label class="form-label fw-bold text-primary">Hedefin Nedir?</label>
                                <select name="target" class="form-select form-select-lg">
                                    <option value="Yağ Yakımı">🔥 Yağ Yakımı</option>
                                    <option value="Kas Kazanımı">💪 Kas Kazanımı</option>
                                    <option value="Güç Artışı">⚡ Güç Artışı</option>
                                    <option value="Dayanıklılık">🏃 Dayanıklılık / Kondisyon</option>
                                    <option value="Fit Görünüm">✨ Fit ve Sıkı Görünüm</option>
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold">Seviye</label>
                                <select name="level" class="form-select">
                                    <option value="Başlangıç">Başlangıç</option>
                                    <option value="Orta">Orta Seviye</option>
                                    <option value="İleri">İleri Seviye</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Haftada Kaç Gün?</label>
                                <input type="number" name="days" class="form-control" min="1" max="7" value="3" />
                            </div>

                            <div class="col-12">
                                <label class="form-label fw-bold">Vücut/Ekipman Fotosu (İsteğe Bağlı)</label>
                                <input type="file" name="bodyImage" class="form-control" accept="image/*">
                            </div>

                            <div class="col-12">
                                <label class="form-label fw-bold">Ekipman Durumu</label>
                                <input type="text" name="equipment" class="form-control" placeholder="Örn: Sadece dambıl var..." />
                            </div>

                            <div class="col-12 mt-4">
                                <button type="submit" class="btn btn-primary w-100 py-3 fw-bold shadow-sm">
                                    🚀 Programı Oluştur
                                </button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>

            @if (ViewBag.Plan != null)
            {
                <div class="card shadow-lg border-0 mt-5 mb-5 bg-white">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0 fw-bold">💪 Senin Planın</h4>
                    </div>
                    <div class="card-body p-4">
                        <div style="white-space: pre-wrap; font-family: sans-serif; line-height: 1.6;">@ViewBag.Plan</div>
                    </div>
                </div>
            }
        </div>
        @if (ViewBag.GeneratedImageUrl != null)
        {
            <div class="card shadow-lg border-0 mt-4 mb-5">
                <div class="card-header bg-primary text-white text-center">
                    <h4 class="mb-0 fw-bold">✨ Gelecekteki Sen: Hedef Görüntü</h4>
                </div>
                <div class="card-body p-0 text-center bg-dark">
                    <img src="@ViewBag.GeneratedImageUrl" class="img-fluid" alt="Yapay Zeka Hedef Vücut" style="max-height: 600px; width: auto;">
                    <div class="p-3 text-white-50">
                        <small><i class="bi bi-stars"></i> Bu görüntü, girdiğin hedeflere göre yapay zeka (DALL-E 3) tarafından oluşturulmuştur.</small>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
</div>